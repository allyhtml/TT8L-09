import tkinter as tk
from tkinter import PhotoImage, Label, Frame, Entry, Button, Toplevel, messagebox
import webbrowser
from tkinter import font

# Define the sign-in function
def signin():
    email = user.get()
    password = code.get()

    try:   
        with open("user_data.txt", "r") as file:
            for line in file:
                parts = line.strip().split(',')
                if len(parts) == 2:
                    saved_email, saved_password = parts
                    if email == saved_email and password == saved_password:
                        messagebox.showinfo("Success", "Login successful!")
                        open_quiz_selection()  # Call the function to open the quiz selection
                        return
        messagebox.showerror("Error", "Invalid email or password")
    except FileNotFoundError:
        messagebox.showerror("Error", "No registered users found. Please register first.")

# Define the function to open the quiz selection page
def open_quiz_selection():
    # Your code for the quiz selection page here
    pass

root = tk.Tk()
root.title('Login')
root.geometry('925x500+300+200')
root.configure(bg="#ffc0db")
root.resizable(False, False)

img = PhotoImage(file='Design/latest3.png') 
Label(root, image=img, bg='white').place(x=-100, y=60)

frame = Frame(root, width=350, height=350, bg="white")
frame.place(x=480, y=70)

heading = Label(frame, text='Sign in', fg='#57a1f8', bg='white', font=('Microsoft YaHei UI Light', 23, 'bold'))
heading.place(x=100, y=5)

user = Entry(frame, width=25, fg='black', border=0, bg="white", font=('Microsoft YaHei UI Light', 11))
user.place(x=30, y=80)
user.insert(0, 'Email')
# Your code for email focus events here

code = Entry(frame, width=25, fg='black', border=0, bg="white", font=('Microsoft YaHei UI Light', 11))  
code.place(x=30, y=150)
code.insert(0, 'Password')
# Your code for password focus events here

Button(frame, width=39, pady=7, text='Sign in', bg='#57a1f8', fg='white', border=0, command=signin).place(x=35, y=204)
# Your code for sign-up button here

root.mainloop()

